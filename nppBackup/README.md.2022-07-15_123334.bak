# OpenSiteCMS
Этот репозиторий содержит *экспериментальную* версию движка OpenSiteCMS.
Функционал будет добавляться и дорабатываться.

# Базовый функционал
Движок основывается на модульности. Таким образом добавлять новый функционал не составляет труда.
Модули могут ссылаться друг на друга.

## Модули
Движок включает в себя несколько готовых модулей, например: панель администрирования, каталог товаров, отзывы.
Базовым является модуль "Base" от которого необходимо наследовать новые модули.
Это необходимо для того, чтобы иметь доступ к готовым реализациям полезных методов, будь то доступ к БД, чтение и обновление конфигурации, подключение шаблонов.
В будущих версиях количество методов, которые предоставляет базовый модуль, будет увеличено.
Код базового модуля также снабжён комментариями как с описанием методов, так и тем, что делает конкретный код внутри методов.
Планируется в дальнейшем снабжать код комментариями в специальном формате, который позволит "собрать" документацию к движку без лишних усилий.

## Работа с БД
Базовый модуль предоставляет базовый функционал для работы с БД. В настоящий момент в качестве СУБД выбрана MySQL, однако, в дальнейшем, планируется
абстрагировать (инкапсулировать) методы по работе с БД в отдельный модуль, который сможет работать с любой СУБД по выбору.
Одной из отличительных особенностей в настоящий момент является использование "схем" таблиц.
"Схема" таблицы представляет собой JSON строку, которая должна содержать всю необходимую информацию для создания таблицы.
Такие "схемы" находятся в отдельных файлах папки "*tablescheme*" с раширением "*.scheme*". Название файла должно быть в формате: "*<название БД>.<название таблицы>.scheme*".

## Отображение контента
В текущей конфигурации, строка запроса будет разбита на: адрес.сайта/модуль/действие/аргумент.
В случае, если *модуль* в запросе указан не будет, будет вызван стандартный модуль *index*.
Строка с *действие*м определяет, какой метод необходимо вызвать в указанном модуле.
В случае, если будет указан *аргумент*, то в метод модуля будет аргумент формата *действие=аргумент*.
Параметр *аргумент* является необязательным и в случае его отсутствия, будет вызван метод *Display* текущего модуля, либо базового модуля, если текущий модуль не содержит своей реализации.
Все остальные параметры (аргументы) запроса передаются в стандартном виде *...?аргумент1=значение1&...*.
Доступ к ним из кода осуществляется из члена класса *params*, который является ассоциативным массивом содержащим все аргументы строки запроса.

## Установка OpenSiteCMS
В настоящий момент, скачав репозиторий и установив его на свой сайт, необходимо внести изменения в файл conf.ig, который содержит базовые (неизменяемые) настройки, распространяющиеся на все модули.
В качестве примера вместе с данным репозиторием поставляется шаблон сайта-каталога товаров с уже готовой *почти* адаптивной вёрсткой. Наполнение сайта контентом не предоставляется.